<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<!--
    Highway Data Examiner (HDX) page
    Load and view data files related to Travel Mapping (TM) related
    academic data sets. (Formerly used Clinched Highway Mapping (CHM)
    data.)
    Author: Jim Teresco, Siena College, The College of Saint Rose
    Modification History:
    2011-06-20 JDT  Initial implementation
    2011-06-21 JDT  Added .gra support and checkbox for hidden marker display
    2011-06-23 JDT  Added .nmp file styles
    2011-08-30 JDT  Renamed to HDX, added more styles
    2013-08-14 JDT  Completed update to Google Maps API V3
    2016-06-27 JDT  Code reorganization, page design updated based on TM
-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="http://tm.teresco.org/css/travelMapping.css" />

<style type="text/css">
#controlbox {
  width: 25%;*/
  position: fixed;
  top:50px;
  bottom:100px;
  height:100%;
  left:400px;
  right:0px;
  overflow:auto;
  padding:5px;
}
#map {
  position: absolute;
  top:25px;
  bottom:0px;
  width: 100%;
  overflow:hidden;
}
#map * {
  cursor:crosshair;
}
#selected {
  position: absolute;
  left: 110px;
  top: 70px;
  overflow-y: scroll;
  max-width: 33%;
  opacity: .95;  /* also forces stacking order */
}
#pointbox {
  visibility: hidden;
  left: 0px;
  width: 1px;
  height: 1px;
}
#options {
  visibility: hidden;
  left: 0px;
  width: 1px;
  height: 1px;
}
#showHideMenu {
  position: fixed;
  right: 10px;
  opacity: .75;  /* also forces stacking order */
}
#AlgorithmVisualization{
visibility: hidden;
left: 0px;
width: 1px;
height: 1px;
}
#contents_table{
  position: absolute;
  right: 42px;
  top: 70px;
  bottom: 10px;
  overflow-y: scroll;
  max-width: 22%;
  opacity: .95;
}
#pseudoTable{
  position: absolute;
  padding: 5px;
  bottom: 150px;
  overflow-y: scroll;
  max-width: 33%;
  opacity: .95;
}
</style>
<script
 src="http://maps.googleapis.com/maps/api/js?sensor=false"
 type="text/javascript"></script>
<!-- load in needed JS functions -->
<script src="tmjsfuncs.js" type="text/javascript"></script>
<script src="hdxjsfunc.js" type="text/javascript"></script>
<title>Highway Data Examiner</title>
</head>
<body onload="loadmap(); toggleTable();">
<script type="application/javascript">
function toggleTable() {
  var menu = document.getElementById("showHideMenu");
  var index = menu.selectedIndex;
  var value = menu.options[index].value;
  //  var algoTable = menu.algorithmbased.value;
  var pointbox = document.getElementById("pointbox");
  var options = document.getElementById("options");
  var selected = document.getElementById("selected");
  var algorithmVisualization = document.getElementById("AlgorithmVisualization");
  // show only table (or no table) based on value
  if (value == "pointbox") {
    selected.innerHTML = pointbox.innerHTML;
  }
  else if (value == "options") {
    selected.innerHTML = options.innerHTML;
  }
  else if (value =="AlgorithmVisualization"){
    selected.innerHTML = algorithmVisualization.innerHTML;
  }
  else {
    selected.innerHTML = "";
  }
}
// get the selected algorithm from the AlgorithmSelection menu
// (factored out here to avoid repeated code)
function getCurrentAlgorithm() {
  var menuSelection = document.getElementById("AlgorithmSelection");
  var selectionIndex = menuSelection.selectedIndex;
  return menuSelection.options[selectionIndex].value;
}
function algorithmSelection(){
  var value = getCurrentAlgorithm();
  if (value == "vertexSearch") {
    document.getElementById("AlgorithmsTable").rows[2].innerHTML= "some";
  }
  else if (value == "EdgeSearch") {
    var x=document.getElementById('AlgorithmsTable').rows;
    var y=x[3].cells
    y[0].innerHTML=	'<input id="sm" type="checkbox" name="SM" onclick="longEdge()" checked="false">&nbsp' + "long Edge";
  }
  else if (value == "BFS"){
    var x=document.getElementById('AlgorithmsTable').rows;
    var y=x[3].cells
    y[0].innerHTML=	'<input id="bfs pseudo" type="checkbox" name="SM" onclick="bfsPseudo()" checked="false">&nbsp' + "BFS Pseudocode";
  }
  else if (value == "DFS"){
    startBfsSearch();
  }
  else if (value == "ConvexHull"){
    startConvexHull();
  }
  else{
  }
}
function showHiddenPseudocode(){
  var show = document.getElementById("showHidden").checked;
  var value = getCurrentAlgorithm();
  if (show == true){
    if(value == "BFS"){
      document.getElementById('pseudoContent').innerHTML = "<pre> unmark all vertices\n "
      + "  choose some starting vertex x \n" + "  mark x \n" +
      " list L = x\n " + " tree T = x\n " + "  while L nonempty\n  " +
      " choose some vertex v from front of list\n " + "  visit v\n " +
      " for each unmarked neighbor w\n " + " mark w\n " + " add it to end of list\n "+ " add edge vw to T\n </pre>";
    }
    else if (value == "DFS"){
      document.getElementById('pseudoContent').innerHTML = " <pre>Algorithm DFS(graph G, Vertex v)\n" +
      " for all edges e in G.incidentEdges(v) do\n" + " if edge e is unexplored then\n" +
      " w = G.opposite(v, e)\n" + " if vertex w is unexplored then\n" +
      " label e as discovery edge\n" + " recursively call DFS(G, w)\n<pre>"
      " else\n" + " label e a a back edge\n";
    }
    else if (value == "vertexSearch"){
      document.getElementById('pseudoContent').innerHTML =
"<pre>longest = 0\n" +
"shortest = 0\n" +
"north = 0\n" +
"south = 0\n" +
"east = 0\n" +
"west = 0\n" +
"for (i=1 to |V|-1) {\n" +
"  if (len(v[i].label) > len(v[longest]))) {\n" +
"    longest = i\n" +
"  }\n" +
"  if (len(v[i].label) < len(v[shortest]))) {\n" +
"    shortest = i\n" +
"  }\n" +
"  if (v[i].lat > v[north].lat) {\n" +
"    north = i\n" +
"  }\n" +
"  if (v[i].lat < v[south].lat) {\n" +
"    south = i\n" +
"  }\n" +
"  if (v[i].lng < v[west].lng) {\n" +
"    west = i\n" +
"  }\n" +
"  if (v[i].lng > v[east].lng) {\n" +
"    east = i\n" +
"  }\n" +
"}</pre>";
    }
    else if (value == "EdgeSearch") {
      document.getElementById('pseudoContent').innerHTML = "<pre>// fill in for real later\nlongest = 0\n</pre>";
    }
  }
  else {
    document.getElementById('pseudoContent').innerHTML = "";
  }
}
function selectAlgorithmAndStart() {
  var value = getCurrentAlgorithm();
  if (value == "vertexSearch") {
    startVertexSearch();
  }
  else if (value == "EdgeSearch") {
    startEdgeSearch();
  }
  else if (value == "BFS") {
    startGraphTraversal("BFS");
  }
  else if (value == "DFS") {
    startGraphTraversal("DFS");
  }
  else if (value == "RFS") {
    startGraphTraversal("RFS");
  }
  else if (value == "ConvexHull") {
    startConvexHull();
  }
  else if (value == "Dijkstra") {
  }
  else{
  }
}
function selectAlgorithmAndCheckBoxes(){
  var value = getCurrentAlgorithm();
  if (value == "vertexSearch"){
        document.getElementById('selection_checkboxes').innerHTML = '<input id="showHidden" type="checkbox" name="Show selected algorithm pseudocode" onclick="showHiddenPseudocode()" >&nbsp;Pseudocode<br>';
  }
  else if (value == "EdgeSearch"){
    document.getElementById('selection_checkboxes').innerHTML = '<input id="showHidden" type="checkbox" name="Show selected algorithm pseudocode" onclick="showHiddenPseudocode()" >&nbsp;Pseudocode<br>'+
    '<input id="showHiddenQueue" type="checkbox" name="Show selected algorithm status" onclick="showHiddenPseudocode()" checked="false">&nbsp;Status<br>' +
    '<input id="showHiddenShortestLongest" type="checkbox" name="Show shortes longest" onclick="showHiddenShortestLabel()" checked="false" >&nbsp;Longest & Shortest Label<br>'+
    '<input id="showLegend" type="checkbox" name="Show legend" onclick="showLegend()"  >&nbsp;Legend<br>';
  }
  else if (value == "BFS"){
    document.getElementById('selection_checkboxes').innerHTML = '<input id="showHidden" type="checkbox" name="Show selected algorithm pseudocode" onclick="showHiddenPseudocode()" >&nbsp;Pseudocode<br>'+
    '<input id="showHiddenQueue" type="checkbox" name="Show selected Queue" onclick="showHiddenQueue()" checked="false">&nbsp;Queue<br>';
  }
  else if (value == "DFS"){
    document.getElementById('selection_checkboxes').innerHTML = '<input id="showHidden" type="checkbox" name="Show selected algorithm pseudocode" onclick="showHiddenPseudocode()" >&nbsp;Pseudocode<br>'+
    '<input id="showHiddenQueue" type="checkbox" name="Show selected Queue" onclick="showHiddenQueue()" >&nbsp;Stack<br>';
  }
}
function selectAlgorithmAndReset(){
    for (var i = 0; i < connections.length; i++) {
	connections[i].setMap(null);
  document.getElementById('connection'+i).style.backgroundColor = "white";
    }
    connections = new Array();
    polypoints = new Array();
    for (var i = 0; i < markers.length; i++) {
	markers[i].setMap(null);
  document.getElementById('waypoint'+i).style.backgroundColor = "white";
    }
    markers = new Array();
    markerinfo = new Array();
}
</script>
<p class="menubar">
  HDX: <span id="filename">Select a file to display</span>
  <span id="status"></span>
</p>

<div id="map">
</div>
<div id="selected"></div>
<div id="options">
  <table id="optionsTable" class="gratable">
    <thead>
      <tr><th>Load/Map Options</th></tr>
    </thead>
    <tbody>
      <tr><td>
        <input id="filesel" type="file"  value="Start" onclick="startRead()">
      </td></tr>
      <tr><td>
        <input id="showHidden" type="checkbox" name="Show Hidden Markers" onclick="showHiddenClicked()" checked="false">&nbsp;Show Hidden Markers
      </td></tr>
    </tbody>
  </table>
</div>
<div id="pointbox">
  No data loaded....
</div>
<div id ="AlgorithmVisualization">
  <table id="AlgorithmsTable" class="gratable">
    <thead>
      <tr><th>Algorithm Simulation Control Panel</th></tr>
    </thead>
    <tbody>
      <tr><td>
        <input id="filesel" value="Start" type="file" onchange="startRead()">
      </td></tr>
      <tr><td>
        Algorithm Selection:
        <select id= "AlgorithmSelection">
          <option value="vertexSearch">Search Vertices</option>
          <option value="EdgeSearch">Search Edges </option>
          <option value="BFS">Breadth-First Traversal</option>
          <option value="DFS">Depth-First Traversal</option>
          <option value="RFS">Random-First Traversal</option>
          <!-- <option value="ConvexHull"> Convex Hull </option>
          <option value="Dijkstra"> Dijkstra </option> -->
        </select>
      </td></tr>
      <tr><td>
        Start Vertex <input id="startPoint" type="text" name="Starting Point" value="0" />
        <button type="button" onclick="selectAlgorithmAndCheckBoxes()">Options</button>

      </td></tr>
      <tr><td>
        <button type="button" onclick="selectAlgorithmAndStart()">Start</button>
        <button type="button" onclick="pauseSimulation()">Pause</button>
        <button type="button" onclick="resetSearch()">Reset</button>
        <select id="speedChanger" onchange="speedChanged()">
          <option value="5">Extremely fast</option>
          <option value="20">Very fast</option>
          <option value="50" selected>Fast</option>
          <option value="100">Medium speed</option>
          <option value="250">Pretty slow</option>
          <option value="500">Slow</option>
          <option value="1000">Painfully slow</option>
        </select>
      </td></tr>
      <tr><td id="selection_checkboxes"></td><tr>
      <tr><td id="queueOrStack"></td><tr>
      <tr><td id="shortestLongest"></td><tr>
      <tr><td id="legend"></td><tr>
      <tr><td id="latitude"></td><tr>
      <tr><td id="length"></td><tr>
      <tr><td id="shortLabel"></td><tr>
      <tr><td id="longLabel"></td><tr>

            </tbody>
          </table>
        </div>

        <div id="controlbox">
          <select id="showHideMenu" onchange="toggleTable();">
            <option value="maponly">Map Only</option>
            <option value="options" >Show/Load Map Options</option>
            <option value="pointbox">Show Highway Data</option>
            <option value= "AlgorithmVisualization" selected="selected">Show Algorithm Visualization</option>
          </select>
        </div>
        <div id="contents_table">
        </div>
        <div id="pseudocode_section"><table id="pseudoTable" class="gratable">
          <thead>
            <tr><th>Pseudocode</th></tr>
          </thead>
          <tbody>
            <tr><td style="border:none" id="pseudoContent">
            </td></tr>
          </div>
        </body></html>
